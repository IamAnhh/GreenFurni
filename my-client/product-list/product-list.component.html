<div class="product-list container-fluid">
  <div class="row">
    <div class="description-section">
      <h2 class="color">SẢN PHẨM</h2>
    </div>

    <div class="container">
      <button class="filter-button" (click)="isFilterActive = true">Lọc sản phẩm</button>

      <div class="modal" *ngIf="isFilterActive">
        <div class="modal-content">
          <span class="close" (click)="isFilterActive = false">&times;</span>
          <h1 class="standardfillter">Chọn tiêu chí lọc</h1>
          <div class="filter-item">
            <h3 class="producttype">Loại sản phẩm</h3>
            <label>
                <input class="form-check-input" type="radio" id="filterBan" name="type" value="table" [(ngModel)]="selectedProductType" (change)="onFilterChange()" > Bàn
            </label>
            <label>
              <input class="form-check-input" type="radio" id="filterGhe" name="type" value="chair" [(ngModel)]="selectedProductType" (change)="onFilterChange()"/> Ghế
            </label>
            <label>
              <input class="form-check-input" type="radio" id="filterSet" name="type" value="set" [(ngModel)]="selectedProductType" (change)="onFilterChange()"/> Bộ bàn ghế
            </label>
          </div>
          <div class="filter-item">
            <h3 class="productprice">Giá sản phẩm</h3>
            <label>
              <input class="form-check-input" type="radio" id="filter100200" name="priceRange" value="100to300" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/>Từ 100.000đ - 300.000đ
            </label>
            <label>
              <input class="form-check-input" type="radio" id="filter200300" name="priceRange" value="300to500" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/> Từ 300.000đ - 500.000đ
            </label>
            <label>
              <input class="form-check-input" type="radio" id="filterTren300" name="priceRange" value="above500" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/> Trên 500.000đ
            </label>
          </div>
          <button class="ok-button btn" (click)="isFilterActive = false">OK</button>
          <button class="clear-filters btn" (click)="clearFilters()">Xóa bộ lọc</button>
        </div>
      </div>
    </div>

    <div class="col-md-3 filter-section">
      <div class="d-flex align-items-center row">
        <h5 class="fw-bold mb-2">Bộ lọc</h5>
        <span>
          <button class="delete btn mb-4" (click)="clearFilters()">Xóa bộ lọc</button>
        </span>
      </div>
      <!-- Filter form -->
      <form id="filterForm" class="filterForm">
        <!-- Product type filter -->
        <p class="mb-2 mt-4 producttype">Loại sản phẩm</p>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filterBan" name="type" value="table" [(ngModel)]="selectedProductType" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filterBan">Bàn</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filterGhe" name="type" value="chair" [(ngModel)]="selectedProductType" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filterGhe">Ghế</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filterSet" name="type" value="set" [(ngModel)]="selectedProductType" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filterSet">Set Bàn Ghế</label>
        </div>

        <!-- Price range filter -->
        <p class="mt-4 mb-2 productprice">Giá sản phẩm</p>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filter100200" name="priceRange" value="100to300" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filter100200">Từ 100.000đ - 300.000đ</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filter200300" name="priceRange" value="300to500" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filter200300">Từ 300.000đ - 500.000đ</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" id="filterTren300" name="priceRange" value="above500" [(ngModel)]="selectedPriceRange" (change)="onFilterChange()"/>
          <label class="form-check-label" for="filterTren300">Trên 500.000đ</label>
        </div>
      </form>
    </div>

    <div class="col-md-9">
      <div class="row">
        <div *ngFor="let product of filteredProducts" class="col-md-4 product-item-container" (click)="viewProductDetails(product._id)">
          <div class="product-item">
            <!-- <img [src]="product.thumbnail" alt="{{ product.title }}" /> -->
            <img [src]="'assets/' + product.img[0].img1" alt="{{ product.name }}" />
            <h6 class="product-title">{{ product.name }}</h6>
            <p class="product-price">{{ product.price }}.000đ</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="text-center custom mt-5">
  <p>Bạn muốn tùy chỉnh sản phẩm?</p>
  <p>Liên hệ ngay với chúng tôi</p>
  <button class="btn-customize" (click)="navigateToCustomProducts()">GỬI YÊU CẦU</button>
</div>
